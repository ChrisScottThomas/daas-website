---
import HeadMeta from "../components/HeadMeta.astro";
const {
  title = "Clarity â€” Insight-as-a-Service",
  description = "Clarity. Strategic Insight-as-a-Service support for product and enterprise leaders.",
  type,
  pubDate,
  updatedDate,
  canonicalURL,
  ogImage,
} = Astro.props;
import "../styles/base.css";
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <HeadMeta
      title={title}
      description={description}
      type={type}
      pubDate={pubDate}
      updatedDate={updatedDate}
      canonicalURL={canonicalURL}
      ogImage={ogImage}
    />
    <meta name="robots" content="index, follow" />

    <script>
      const theme = localStorage.getItem("theme");
      if (theme === "dark") {
        document.documentElement.classList.add("dark");
      } else if (theme === "light") {
        document.documentElement.classList.remove("dark");
      }
    </script>
  </head>

  <body
    class="min-h-screen text-gray-900 bg-gradient-to-b from-white to-[#EAF6FB] dark:from-[#1A1A1A] dark:to-[#2C3E50] dark:text-white bg-no-repeat"
  >
    <!-- Top-left logo and menu -->
    <header
      class="fixed top-4 left-4 z-50 flex flex-row items-center gap-4 w-auto"
    >
      <a href="/" aria-label="Clarity home" class="z-50 shrink-0">
        <!-- Light Logo -->
        <svg
          class="h-10 dark:hidden"
          viewBox="0 0 200 100"
          xmlns="http://www.w3.org/2000/svg"
          preserveAspectRatio="xMidYMid meet"
        >
          <text
            x="50%"
            y="50%"
            dominant-baseline="middle"
            text-anchor="middle"
            font-family="Inter, Helvetica, Arial, sans-serif"
            font-size="48"
            font-weight="700"
            fill="#333"
          >
            Clarity.
          </text>
        </svg>
        <!-- Dark Logo -->
        <svg
          class="h-10 hidden dark:block"
          viewBox="0 0 200 100"
          xmlns="http://www.w3.org/2000/svg"
          preserveAspectRatio="xMidYMid meet"
        >
          <text
            x="50%"
            y="50%"
            dominant-baseline="middle"
            text-anchor="middle"
            font-family="Inter, Helvetica, Arial, sans-serif"
            font-size="48"
            font-weight="700"
            fill="#F2F2F2"
          >
            Clarity.
          </text>
        </svg>
      </a>

      <!-- Burger Button -->
      <button
        id="menu-toggle"
        aria-controls="menu-panel"
        aria-expanded="false"
        class="z-50 p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700"
        aria-label="Open menu"
      >
        <svg
          class="w-6 h-6 text-gray-700 dark:text-white"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
      <!-- Home Icon -->
      <a
        href="/"
        class="z-50 p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700"
        aria-label="Home"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="currentColor"
          class="w-6 h-6 text-gray-700 dark:text-white"
        >
          <path
            fill-rule="evenodd"
            d="M2.25 12.5l9-9 9 9v8.25a.75.75 0 01-.75.75h-4.5v-5.25a.75.75 0 00-.75-.75h-6a.75.75 0 00-.75.75v5.25h-4.5a.75.75 0 01-.75-.75V12.5z"
            clip-rule="evenodd"></path>
        </svg>
      </a>
    </header>

    <!-- Slide-down mobile menu -->
    <nav
      id="menu-panel"
      class="fixed top-16 left-4 right-4 bg-white dark:bg-gray-900 text-gray-800 dark:text-white rounded shadow-md overflow-hidden transition-all duration-300 transform scale-y-0 origin-top z-40"
    >
      <ul class="flex flex-col items-start gap-4 p-6 text-lg font-medium">
        <li>
          <a href="/why-clarity-works" class="hover:underline"
            >Why Clarity. Works</a
          >
        </li>
        <li>
          <a href="/what-you-get" class="hover:underline"
            >What You'll Get (and When).</a
          >
        </li>
        <li>
          <a href="/faq" class="hover:underline">FAQ.</a>
        </li>
      </ul>
    </nav>

    <!-- Theme toggle -->
    <button
      id="theme-toggle"
      class="fixed top-4 right-4 z-50 p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition"
      aria-label="Toggle Theme"
    >
      <svg
        class="w-6 h-6 dark:hidden"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M21 12.79A9 9 0 0111.21 3 7 7 0 0012 21a9 9 0 009-8.21z"></path>
      </svg>
      <svg
        class="w-6 h-6 hidden dark:inline"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M12 3v1m0 16v1m8.66-8.66l-.7.7m-12.02 0l-.7-.7M21 12h1M2 12H1m3.34-4.66l.7.7m12.02 0l.7-.7M12 5a7 7 0 100 14 7 7 0 000-14z"
        ></path>
      </svg>
    </button>

    <!-- Page content -->
    <div class="pt-32 px-4 sm:px-6 lg:px-8">
      <slot />
    </div>

    <!-- Footer logo -->
    <footer class="mt-16 text-center">
      <!-- Light -->
      <svg
        class="block dark:hidden mx-auto mb-4"
        viewBox="0 0 400 200"
        xmlns="http://www.w3.org/2000/svg"
      >
        <text
          x="50%"
          y="50%"
          dominant-baseline="middle"
          text-anchor="middle"
          font-family="Inter, Helvetica, Arial, sans-serif"
          font-size="48"
          font-weight="700"
          fill="#333"
        >
          Clarity.
        </text>
      </svg>
      <!-- Dark -->
      <svg
        class="hidden dark:block mx-auto mb-4"
        viewBox="0 0 400 200"
        xmlns="http://www.w3.org/2000/svg"
      >
        <text
          x="50%"
          y="50%"
          dominant-baseline="middle"
          text-anchor="middle"
          font-family="Inter, Helvetica, Arial, sans-serif"
          font-size="48"
          font-weight="700"
          fill="#F2F2F2"
        >
          Clarity.
        </text>
      </svg>
    </footer>

    <script type="module" src="/scripts/menu.js"></script>
  </body>
</html>
