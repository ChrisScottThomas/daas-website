---
import Base from "../layouts/base.astro";
---

<Base
  title="Clarity. — Insight-as-a-Service"
  description="Your Insight-as-a-Service Partner."
  type="WebPage"
  canonicalURL="https://getclarity.win/"
>
  <main class="max-w-4xl mx-auto px-4 py-24 text-center">
    <h1 id="Clarity." class="text-5xl font-bold mb-4 leading-tight">
      Clarity. Without the Noise.
    </h1>
    <p
      id="sub-header"
      class="text-3xl font-bold text-gray-600 dark:text-gray-300 mb-8"
    >
      Your Insight-as-a-Service Partner.
    </p>
    <p id="sub-header" class="text-2xl text-gray-600 dark:text-gray-300 mb-8">
      For tech and delivery leaders who need focus, speed, and certainty.
    </p>

    <form id="waitlist-form" class="space-y-4 max-w-md mx-auto">
      <input
        type="email"
        name="email"
        required
        placeholder="your@futurepartner.com"
        class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring focus:ring-blue-200"
      />
      <div class="flex items-center text-center justify-center gap-2">
        <input
          type="checkbox"
          name="foundingMember"
          id="foundingMember"
          class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"
        />
        <label
          for="foundingMember"
          class="text-sm text-center text-gray-600 dark:text-gray-300"
        >
          I'd like early access to the
          <a
            href="/founding-offer"
            class="underline hover:text-blue-600 transition"
          >
            Founding Member
          </a>
          offer
        </label>
      </div>
      <button
        type="submit"
        class="w-full py-2 px-4 bg-black text-white rounded font-medium hover:bg-gray-800 transition"
      >
        Join the Waitlist
      </button>
    </form>
    <p id="response" class="mt-4 text-green-600"></p>

    <script>
      document
        .getElementById("waitlist-form")
        .addEventListener("submit", async (e) => {
          e.preventDefault();
          const email = e.target.email.value;
          const foundingMember = e.target.foundingMember?.checked ?? false;

          const res = await fetch("API_URL_HERE", {
            method: "POST",
            body: JSON.stringify({ email, foundingMember }),
            headers: { "Content-Type": "application/json" },
          });
          
          if (res.ok) {
            window.location.href = "/thank-you";
          } else {
            document.getElementById("response").textContent =
              "Something went wrong. Please try again.";
          }
        });
    </script>

    <!-- waitlist Feature Flag -->

    <script>
      const waitlistEnabled = false;

      document.addEventListener("DOMContentLoaded", () => {
        const form = document.getElementById("waitlist-form");
        const button = document.querySelector("#waitlist-form button");

        if (!waitlistEnabled) {
          form.addEventListener("submit", (e) => {
            e.preventDefault();
            alert("Waitlist is currently closed. Check back soon!");
          });
          button.disabled = true;
          button.classList.add("opacity-50", "cursor-not-allowed");
          button.textContent = "Waitlist Closed";
        }
      });
    </script>

    <!-- Trusted by section -->
    <section id="trusted-by" class="mt-16">
      <p
        class="text-sm uppercase tracking-wide text-gray-500 dark:text-gray-400 mb-4"
      >
        Trusted by product leaders at
      </p>
      <div class="flex flex-wrap justify-center gap-6 opacity-80">
        <img src="/placeholder-logo1.svg" alt="Logo 1" class="h-8" />
        <img src="/placeholder-logo2.svg" alt="Logo 2" class="h-8" />
        <img src="/placeholder-logo3.svg" alt="Logo 3" class="h-8" />
        <img src="/placeholder-logo4.svg" alt="Logo 4" class="h-8" />
      </div>
    </section>

    <script>
      const showTrustedBy = false;

      document.addEventListener("DOMContentLoaded", () => {
        if (!showTrustedBy) {
          const section = document.getElementById("trusted-by");
          if (section) section.remove();
        }
      });
    </script>

    <!-- Testimonials -->
    <section id="testimonials" class="mt-20 text-center">
      <h2 class="text-2xl font-bold mb-6">What Our Clients Say</h2>
      <div class="max-w-3xl mx-auto">
        <blockquote
          class="italic text-lg text-gray-700 dark:text-gray-300 mb-6"
        >
          “Before working with them, we were guessing what to build. Their
          Discovery process gave us clarity, confidence, and speed. We cut 3
          months off our roadmap.”
        </blockquote>
        <p class="text-sm text-gray-500 dark:text-gray-400">
          - Head of Product, Fintech Scaleup
        </p>
      </div>
    </section>

    <script>
      const showTestimonials = false;

      document.addEventListener("DOMContentLoaded", () => {
        if (!showTestimonials) {
          const section = document.getElementById("testimonials");
          if (section) section.remove();
        }
      });
    </script>

    <section class="my-16 flex flex-col items-center gap-4 text-center">
      <p class="text-lg text-gray-600 dark:text-gray-400">
        Want to see how Clarity. helps? Start here:
      </p>
      <a
        href="/why-clarity-works"
        aria-label="Next page"
        class="hover:text-blue-600 transition animate-bounce-arrow"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          viewBox="0 0 24 24"
          width="64"
          height="64"
        >
          <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"
          ></path>
        </svg>
      </a>
    </section>

    <!-- Final CTA -->
    <section
      id="final-cta"
      class="mt-20 bg-gray-900 text-white py-12 px-6 rounded-lg text-center"
    >
      <h2 class="text-2xl font-bold mb-4">Still unsure?</h2>
      <p class="mb-6 text-lg">
        That's why Clarity exists.<br /> You don't need all the answers, just a better
        way to find them. <br /><br />No fluff. No spam. Just Clarity.<br /><br
        />
      </p>
      <a
        href="#Clarity."
        class="inline-block bg-white text-black font-semibold px-6 py-3 rounded hover:bg-gray-200 transition"
        >Join the Waitlist</a
      >
    </section>

    <script>
      const showFinalCTA = false;

      document.addEventListener("DOMContentLoaded", () => {
        if (!showFinalCTA) {
          const section = document.getElementById("final-cta");
          if (section) section.remove();
        }
      });
    </script>
  </main>
</Base>
